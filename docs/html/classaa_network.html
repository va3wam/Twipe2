<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Twipe2: aaNetwork Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="twipe2-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Twipe2
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">Seccond generation two-wheeled inverted pendulumn robot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classaa_network-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">aaNetwork Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:affbf27339bcbcaf92810034ccb69de5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#affbf27339bcbcaf92810034ccb69de5f">aaNetwork</a> ()</td></tr>
<tr class="memdesc:affbf27339bcbcaf92810034ccb69de5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle all of the networking logic required by the robot.  <a href="classaa_network.html#affbf27339bcbcaf92810034ccb69de5f">More...</a><br /></td></tr>
<tr class="separator:affbf27339bcbcaf92810034ccb69de5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c964e502159e4265aed7094b13f1c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#aa4c964e502159e4265aed7094b13f1c0">aaNetwork</a> (const char *ssid, const char *password)</td></tr>
<tr class="separator:aa4c964e502159e4265aed7094b13f1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42bfbdba98e7657887754e88e052f68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#ac42bfbdba98e7657887754e88e052f68">~aaNetwork</a> ()</td></tr>
<tr class="separator:ac42bfbdba98e7657887754e88e052f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5480c6bb017b0c476b1ff06c0cfef7fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#a5480c6bb017b0c476b1ff06c0cfef7fd">getUniqueName</a> (char *ptrNameArray)</td></tr>
<tr class="memdesc:a5480c6bb017b0c476b1ff06c0cfef7fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts a name which is both unique and predictable into the char array _uniqueName[].  <a href="classaa_network.html#a5480c6bb017b0c476b1ff06c0cfef7fd">More...</a><br /></td></tr>
<tr class="separator:a5480c6bb017b0c476b1ff06c0cfef7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b9195072733166e7bad1e5fee5580a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#ac8b9195072733166e7bad1e5fee5580a">connectionStatus</a> (wl_status_t status)</td></tr>
<tr class="memdesc:ac8b9195072733166e7bad1e5fee5580a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide human readable text for wifi connection status codes.  <a href="classaa_network.html#ac8b9195072733166e7bad1e5fee5580a">More...</a><br /></td></tr>
<tr class="separator:ac8b9195072733166e7bad1e5fee5580a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c607f1200b3ad93e34838bcff61ade1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#a7c607f1200b3ad93e34838bcff61ade1">cfgToConsole</a> ()</td></tr>
<tr class="memdesc:a7c607f1200b3ad93e34838bcff61ade1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send detailed network configuration information to the console.  <a href="classaa_network.html#a7c607f1200b3ad93e34838bcff61ade1">More...</a><br /></td></tr>
<tr class="separator:a7c607f1200b3ad93e34838bcff61ade1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a294380ca36a89feee4dcab570170331d"><td class="memItemLeft" align="right" valign="top"><a id="a294380ca36a89feee4dcab570170331d"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>getSSID</b> (void)</td></tr>
<tr class="separator:a294380ca36a89feee4dcab570170331d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8ede618b2839eaddbcc95467a84d6b"><td class="memItemLeft" align="right" valign="top"><a id="a3a8ede618b2839eaddbcc95467a84d6b"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>getPSWD</b> (void)</td></tr>
<tr class="separator:a3a8ede618b2839eaddbcc95467a84d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6deeb2d04230e62a5891f2f5c459084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#ae6deeb2d04230e62a5891f2f5c459084">connect</a> ()</td></tr>
<tr class="memdesc:ae6deeb2d04230e62a5891f2f5c459084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage the process of connecting to the WiFi network.  <a href="classaa_network.html#ae6deeb2d04230e62a5891f2f5c459084">More...</a><br /></td></tr>
<tr class="separator:ae6deeb2d04230e62a5891f2f5c459084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2939f0d11f02f932b3a1406de14c3876"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#a2939f0d11f02f932b3a1406de14c3876">rfSignalStrength</a> (int8_t points)</td></tr>
<tr class="memdesc:a2939f0d11f02f932b3a1406de14c3876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take measurements of the Wi-Fi strength and return the average result.  <a href="classaa_network.html#a2939f0d11f02f932b3a1406de14c3876">More...</a><br /></td></tr>
<tr class="separator:a2939f0d11f02f932b3a1406de14c3876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5caf595e69a1ddb85495824d8e1813"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_network.html#a8c5caf595e69a1ddb85495824d8e1813">evalSignal</a> (int16_t signalStrength)</td></tr>
<tr class="memdesc:a8c5caf595e69a1ddb85495824d8e1813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return human readable assessment of signal strength.  <a href="classaa_network.html#a8c5caf595e69a1ddb85495824d8e1813">More...</a><br /></td></tr>
<tr class="separator:a8c5caf595e69a1ddb85495824d8e1813"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="aa_network_8h_source.html#l00022">22</a> of file <a class="el" href="aa_network_8h_source.html">aaNetwork.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="affbf27339bcbcaf92810034ccb69de5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbf27339bcbcaf92810034ccb69de5f">&#9670;&nbsp;</a></span>aaNetwork() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aaNetwork::aaNetwork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle all of the networking logic required by the robot. </p>
<p>Manages TCP/IP, HTTP server, OTA firmware loading and MQTT messaging. </p>
<h1><a class="anchor" id="autotoc_md16"></a>
See https://lastminuteengineers.com/esp32-ota-web-updater-arduino-ide/</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00036">36</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<a id="aa4c964e502159e4265aed7094b13f1c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c964e502159e4265aed7094b13f1c0">&#9670;&nbsp;</a></span>aaNetwork() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aaNetwork::aaNetwork </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ssid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md17"></a>
@brief This is the second form of the constructor for this class.</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00044">44</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<a id="ac42bfbdba98e7657887754e88e052f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac42bfbdba98e7657887754e88e052f68">&#9670;&nbsp;</a></span>~aaNetwork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aaNetwork::~aaNetwork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md18"></a>
@brief This is the destructor for this class.</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00052">52</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7c607f1200b3ad93e34838bcff61ade1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c607f1200b3ad93e34838bcff61ade1">&#9670;&nbsp;</a></span>cfgToConsole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aaNetwork::cfgToConsole </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send detailed network configuration information to the console. </p>
<p>The ESP32-D0WDQ6 chip has dual Tensilica LX6 micro controllers. All WiFi logic runs on the PRO_CPU (core0) aka the processor core. This firmware runs on </p>
<h1><a class="anchor" id="autotoc_md27"></a>
the APP_CPU (core 1) aka the application core.</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00298">298</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<a id="ae6deeb2d04230e62a5891f2f5c459084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6deeb2d04230e62a5891f2f5c459084">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aaNetwork::connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manage the process of connecting to the WiFi network. </p>
<p>Scan for a suitable Access Point and if one is found then connect to it using the init_wifi() method. </p><dl class="section return"><dt>Returns</dt><dd>bool where true means a connection was made and false means no connection </dd></dl>
<h1><a class="anchor" id="autotoc_md23"></a>
was made.</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00199">199</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<a id="ac8b9195072733166e7bad1e5fee5580a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b9195072733166e7bad1e5fee5580a">&#9670;&nbsp;</a></span>connectionStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * aaNetwork::connectionStatus </td>
          <td>(</td>
          <td class="paramtype">wl_status_t&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide human readable text for wifi connection status codes. </p>
<h1><a class="anchor" id="autotoc_md21"></a>
@return const char* "Text that explains what the code means".</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00153">153</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<a id="a8c5caf595e69a1ddb85495824d8e1813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c5caf595e69a1ddb85495824d8e1813">&#9670;&nbsp;</a></span>evalSignal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * aaNetwork::evalSignal </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>signalStrength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return human readable assessment of signal strength. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int16_t</td><td>signalStrength signal in dBm. </td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="autotoc_md26"></a>
@return const char* Text assessment of signal strength.</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00283">283</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<a id="a5480c6bb017b0c476b1ff06c0cfef7fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5480c6bb017b0c476b1ff06c0cfef7fd">&#9670;&nbsp;</a></span>getUniqueName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aaNetwork::getUniqueName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>_uniqueNamePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts a name which is both unique and predictable into the char array _uniqueName[]. </p>
<p>Combines a prefix (HOSTNAME_PREFIX) with the 6 byte mac address of the WiFi module to produce a name that will be unque on the network. </p>
<h1><a class="anchor" id="autotoc_md24"></a>
@param char *_uniqueNamePtr pointer to variable called _uniqueName[].</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00233">233</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<a id="a2939f0d11f02f932b3a1406de14c3876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2939f0d11f02f932b3a1406de14c3876">&#9670;&nbsp;</a></span>rfSignalStrength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long aaNetwork::rfSignalStrength </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>dataPoints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take measurements of the Wi-Fi strength and return the average result. </p>
<p>RSSI (Received Signal Strength Indicator) is a common measurement, but most WiFi adapter vendors handle it differently, as it isn't standardized. Ultimately, the easiest and most consistent way to express signal strength is with dBm, which stands for decibels relative to a milliwatt. Since RSSI is handled differently by most WiFi adapters, it's usually converted to dBm to make it consistent and human readable. mW - milliwatts (1 mW = 0 dBm) RSSI - Received Signal Strength Indicator (usually 0-60 or 0-255) dBm - Decibels in relation to a milliwatt (usually -30 to -100). dBm does not scale in a linear fashion like you'd expect, instead being logarithmic. That means that signal strength changes aren't smooth and gradual. The Rule of 3s and 10s highlights the logarithmic nature of dBm: 3 dB of loss = -3 dB = halves signal strength 3 dB of gain = +3 dB = doubles signal strength 10 dB of loss = -10 dB = 10 times less signal strength (0.1 mW = -10 dBm, 0.01 mW = -20 dBm, etc.) 10 dB of gain = +10 dB = 10 times more signal strength (0.00001 mW = -50 dBm, 0.0001 mW = -40 dBm, etc.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int8_t</td><td>dataPoints is the number of readings to average together. </td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="autotoc_md25"></a>
@return long averageRSSI which is the average of 100 signal strength readings in dBm.</h1>

<p class="definition">Definition at line <a class="el" href="aa_network_8cpp_source.html#l00265">265</a> of file <a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/aaNetwork/<a class="el" href="aa_network_8h_source.html">aaNetwork.h</a></li>
<li>lib/aaNetwork/<a class="el" href="aa_network_8cpp_source.html">aaNetwork.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
